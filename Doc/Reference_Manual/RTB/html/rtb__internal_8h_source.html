<!$Id: atmel-header-rtb.html 31672 2012-04-17 07:02:09Z sschneid $>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>RTB Reference Manual</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>

<table width="100%" height="10%" bgcolor="#FFFFFF">
  <tr>
    <td colspan="2"><p><A href=http://www.atmel.com ><img src="../..//graphics//atmel.jpg"/ border=0></A></p><br /></td>
    <td colspan="2"> <strong><font face="Helvetica" color="#000000" size="+3">Microcontroller Wireless Solutions</font></strong></td>
    <td colspan="2"><p><A href=http://www.atmel.com/products/AVR><img src="../..//graphics//AVR_logo_blue.gif"/ border=0></A></p><br /></td>
  </tr>
  <tr>
    <td colspan="6" height="1" background="../..//graphics//blue.gif"></td>
  </tr>
</table>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('rtb__internal_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">rtb_internal.h</div>  </div>
</div>
<div class="contents">
<a href="rtb__internal_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00011"></a>00011 <span class="comment">/*</span>
<a name="l00012"></a>00012 <span class="comment"> * Copyright (c) 2011, Atmel Corporation All rights reserved.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * Licensed under Atmel&#39;s Limited License Agreement --&gt; EULA.txt</span>
<a name="l00015"></a>00015 <span class="comment"> */</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="comment">/* Prevent double inclusion */</span>
<a name="l00018"></a>00018 <span class="preprocessor">#ifndef RTB_INTERNAL_H</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#define RTB_INTERNAL_H</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a>00021 <span class="comment">/* === Includes ============================================================= */</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;qmm.h&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;tal.h&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#ifdef RTB_WITHOUT_MAC</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#include &quot;mac_data_structures.h&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#else   </span><span class="comment">/* #ifdef RTB_WITHOUT_MAC */</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;mac_internal.h&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#endif  </span><span class="comment">/* #ifdef RTB_WITHOUT_MAC */</span>
<a name="l00030"></a>00030 <span class="preprocessor">#if defined(SIO_HUB) &amp;&amp; defined(ENABLE_RTB_PRINT)</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#include &quot;sio_handler.h&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#endif  </span><span class="comment">/* if defined(SIO_HUB) &amp;&amp; defined(ENABLE_RTB_PRINT) */</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;rtb_platform.h&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="rtb__pmu_8h.html" title="Header file for PMU dependent functionality of RTB.">rtb_pmu.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="rtb__api_8h.html" title="RTB API for applications residing on MAC (IEEE 802.15.4-2006)">rtb_api.h</a>&quot;</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="comment">/* === Macros =============================================================== */</span>
<a name="l00038"></a>00038 
<a name="l00043"></a><a class="code" href="rtb__internal_8h.html#a886833bb62ae5aada5d2d0c391fca9a6">00043</a> <span class="preprocessor">#define RTB_FRAME_ID_LEN                (3)</span>
<a name="l00044"></a><a class="code" href="rtb__internal_8h.html#acad54cd71c044eeaebf07d9cec592249">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define RTB_FRAME_ID_1                  (&#39;R&#39;)   </span>
<a name="l00045"></a><a class="code" href="rtb__internal_8h.html#a2944554807fb8ed8df15f90ab36db96e">00045</a> <span class="preprocessor">#define RTB_FRAME_ID_2                  (&#39;T&#39;)   </span>
<a name="l00046"></a><a class="code" href="rtb__internal_8h.html#a06672877b945b0714a9d280ad65eb198">00046</a> <span class="preprocessor">#define RTB_FRAME_ID_3                  (&#39;B&#39;)   </span>
<a name="l00054"></a><a class="code" href="rtb__internal_8h.html#a4bf2c40ac9ce2ad2bf5090f1ef983fe9">00054</a> <span class="preprocessor">#define RTB_PROTOCOL_VERSION_01         (0x01)</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 
<a name="l00061"></a><a class="code" href="rtb__internal_8h.html#afdc1e58c6a5d2bfe2571105fc0e7dcf4">00061</a> <span class="preprocessor">#define CMD_RANGE_REQ_LEN               (RTB_FRAME_ID_LEN + 11)         </span>
<a name="l00062"></a><a class="code" href="rtb__internal_8h.html#a7379d6f432b4666a486e3e09e46b83a1">00062</a> <span class="preprocessor">#define CMD_RANGE_ACPT_LEN              (RTB_FRAME_ID_LEN + 5)          </span>
<a name="l00063"></a><a class="code" href="rtb__internal_8h.html#aa47b1c9732cb6367caba598a2df474b0">00063</a> <span class="preprocessor">#define CMD_PMU_SYNC_REQ_LEN            (RTB_FRAME_ID_LEN + 2)          </span>
<a name="l00064"></a><a class="code" href="rtb__internal_8h.html#a02bf99656390ee64d6569e3fb777d26b">00064</a> <span class="preprocessor">#define CMD_PMU_START_LEN               (RTB_FRAME_ID_LEN + 1)          </span>
<a name="l00065"></a><a class="code" href="rtb__internal_8h.html#ac527298ef2f98cf6e82ea0193eff126a">00065</a> <span class="preprocessor">#define CMD_RESULT_REQ_LEN              (RTB_FRAME_ID_LEN + 5)          </span>
<a name="l00066"></a><a class="code" href="rtb__internal_8h.html#aac2236f78a58e2ee90e55817a08e9bbb">00066</a> <span class="preprocessor">#define CMD_RESULT_CONF_LEN             (RTB_FRAME_ID_LEN + 5)          </span>
<a name="l00067"></a>00067 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) ||  defined(DOXYGEN)</span>
<a name="l00068"></a><a class="code" href="rtb__internal_8h.html#a220a2c30b57383cd0ce05210952e17c9">00068</a> <span class="preprocessor"></span><span class="preprocessor">#   define CMD_REMOTE_RANGE_REQ_LEN     (CMD_RANGE_REQ_LEN + 1 + 2 + 2) </span>
<a name="l00069"></a>00069 <span class="preprocessor">// 1 octet Reflector AddrMode</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span><span class="comment">// 2 octets Reflector PAN-Id</span>
<a name="l00071"></a>00071 <span class="comment">// 2 octets Reflector Address in case of short address</span>
<a name="l00072"></a><a class="code" href="rtb__internal_8h.html#ab1225d7d6ee5972158f2d14e0b6e390e">00072</a> <span class="preprocessor">#   define CMD_REMOTE_RANGE_CONF_LEN    (RTB_FRAME_ID_LEN + 1 + 5 + 2 + 5 + 1)  </span>
<a name="l00073"></a>00073 <span class="preprocessor">// 1 octet RTB CMD-Id</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span><span class="comment">// 5 octets Reflector Address Spec</span>
<a name="l00075"></a>00075 <span class="comment">//  (i.e. 1 octet Reflector AddrMode,</span>
<a name="l00076"></a>00076 <span class="comment">//        2 octets Reflector PAN-Id,</span>
<a name="l00077"></a>00077 <span class="comment">//        2 octets Reflector Address in case of short address)</span>
<a name="l00078"></a>00078 <span class="comment">// 2 octets Range Acceptance Status and Range Reject Reason</span>
<a name="l00079"></a>00079 <span class="comment">// 5 octets Ranging Distance and DQF</span>
<a name="l00080"></a>00080 <span class="comment">// 1 octet Additional Result IE</span>
<a name="l00081"></a>00081 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) ||  defined(DOXYGEN) */</span>
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="preprocessor">#if (ANTENNA_DIVERSITY == 1)</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00085"></a>00085 <span class="comment"> * Always initially request antenna diversity from Reflector,</span>
<a name="l00086"></a>00086 <span class="comment"> * even if we currently are not using antenna diversity ourselves.</span>
<a name="l00087"></a>00087 <span class="comment"> */</span>
<a name="l00088"></a>00088 <span class="preprocessor">#   define SET_INITIATOR_CAPS(x)    {x = \</span>
<a name="l00089"></a>00089 <span class="preprocessor">                                             (rtb_pib.EnableAntennaDiv &lt;&lt; BIT_POS_INITIATOR_ANT) | \</span>
<a name="l00090"></a>00090 <span class="preprocessor">                                             (1 &lt;&lt; BIT_POS_REFLECTOR_ANT); \</span>
<a name="l00091"></a>00091 <span class="preprocessor">}</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span><span class="preprocessor">#else   </span><span class="comment">/* ANTENNA_DIVERSITY */</span>
<a name="l00093"></a>00093 <span class="preprocessor">#   define SET_INITIATOR_CAPS(x)</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span><span class="preprocessor">#endif  </span><span class="comment">/* (ANTENNA_DIVERSITY == 1) */</span>
<a name="l00095"></a>00095 
<a name="l00097"></a><a class="code" href="rtb__internal_8h.html#a0073bf07592655d54899d906804b5f69">00097</a> <span class="preprocessor">#define REQ_RANGING_TX_POWER_IE         (0x01)</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span>
<a name="l00100"></a><a class="code" href="rtb__internal_8h.html#abb33d1222a3aa8be9aea9e941a9bea64">00100</a> <span class="preprocessor">#define RTB_AWAIT_FRAME_TIME            (TAL_CONVERT_SYMBOLS_TO_US(macResponseWaitTime_def))</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span>
<a name="l00102"></a>00102 <span class="comment">/* === Types ================================================================ */</span>
<a name="l00103"></a>00103 
<a name="l00107"></a><a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cb">00107</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cb">rtb_role_tag</a>
<a name="l00108"></a>00108 {
<a name="l00109"></a><a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cbad2b5cd8ae222db3412fc9e28baed144b">00109</a>     <a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cbad2b5cd8ae222db3412fc9e28baed144b">RTB_ROLE_NONE</a> = 0,      
<a name="l00110"></a><a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cba5dc46b27b306cf7a12c9d95b4f531c90">00110</a>     <a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cba5dc46b27b306cf7a12c9d95b4f531c90">RTB_ROLE_INITIATOR</a>,     
<a name="l00111"></a><a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cbaaffde331b595f45ca7a3e932db6baf2d">00111</a>     <a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cbaaffde331b595f45ca7a3e932db6baf2d">RTB_ROLE_REFLECTOR</a>      
<a name="l00112"></a>00112 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00113"></a>00113 <span class="preprocessor"></span>    ,
<a name="l00114"></a><a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cba0026b2af88c0e4be702aac18e4942152">00114</a>     <a class="code" href="rtb__internal_8h.html#a6269dbddb061b4de85fa0482fd4509cba0026b2af88c0e4be702aac18e4942152">RTB_ROLE_COORDINATOR</a>        
<a name="l00115"></a>00115 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00116"></a>00116 } SHORTENUM <a class="code" href="rtb__internal_8h.html#a2068729ac4e9e99fbf305471ea9b70b5">rtb_role_t</a>;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 
<a name="l00123"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddf">00123</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddf">rtb_state_tag</a>
<a name="l00124"></a>00124 {
<a name="l00126"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa841e07583916adbfda53bc7824816035">00126</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa841e07583916adbfda53bc7824816035">RTB_IDLE</a>,
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 
<a name="l00129"></a>00129     <span class="comment">/* States for Initiator */</span>
<a name="l00130"></a>00130 
<a name="l00132"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2bd4a0cdc1afac9d52fa60bbdcdf8109">00132</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2bd4a0cdc1afac9d52fa60bbdcdf8109">RTB_INIT_RANGE_REQ_FRAME</a>,
<a name="l00133"></a>00133 
<a name="l00135"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa3e10bdc4f84b9c4ec4dca311c77a3144">00135</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa3e10bdc4f84b9c4ec4dca311c77a3144">RTB_RANGE_REQ_FRAME_DONE</a>,
<a name="l00136"></a>00136 
<a name="l00138"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa0aef2aa2d5ffe068de849841c06b8816">00138</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa0aef2aa2d5ffe068de849841c06b8816">RTB_AWAIT_RANGE_ACPT_FRAME</a>,
<a name="l00139"></a>00139 
<a name="l00141"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfaf00a80c9cc21aadaa10d73a853ad4592">00141</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfaf00a80c9cc21aadaa10d73a853ad4592">RTB_INIT_TIME_SYNC_REQ_FRAME</a>,
<a name="l00142"></a>00142 
<a name="l00144"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa17f28190322ffa51f2a6255d51a0f723">00144</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa17f28190322ffa51f2a6255d51a0f723">RTB_TIME_SYNC_REQ_FRAME_DONE</a>,
<a name="l00145"></a>00145 
<a name="l00147"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa79877042445b29eeb4a5f5d31f0e3564">00147</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa79877042445b29eeb4a5f5d31f0e3564">RTB_AWAIT_PMU_START_FRAME</a>,
<a name="l00148"></a>00148 
<a name="l00150"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfac41032316285d67249753e8df26a8409">00150</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfac41032316285d67249753e8df26a8409">RTB_INIT_RESULT_REQ_FRAME</a>,
<a name="l00151"></a>00151 
<a name="l00153"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2aa81b4c83f0c1847e6b8a84df195f53">00153</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2aa81b4c83f0c1847e6b8a84df195f53">RTB_RESULT_REQ_FRAME_DONE</a>,
<a name="l00154"></a>00154 
<a name="l00156"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa9152529543e2f66a0d0f27fec171dd12">00156</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa9152529543e2f66a0d0f27fec171dd12">RTB_AWAIT_RESULT_CONF_FRAME</a>,
<a name="l00157"></a>00157 
<a name="l00159"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa085a523c3a09c34d02798c8c8e71a257">00159</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa085a523c3a09c34d02798c8c8e71a257">RTB_RESULT_CALC</a>,
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>
<a name="l00163"></a>00163     <span class="comment">/* Only required if remote ranging is allowed. */</span>
<a name="l00164"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2977c78f319de01f1306a9ecd55a4105">00164</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2977c78f319de01f1306a9ecd55a4105">RTB_INIT_REMOTE_RANGE_CONF_FRAME</a>,
<a name="l00165"></a>00165 
<a name="l00167"></a>00167     <span class="comment">/* Only required if remote ranging is allowed. */</span>
<a name="l00168"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2a755e2337b071c6b42caa0d4cc053d8">00168</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2a755e2337b071c6b42caa0d4cc053d8">RTB_REMOTE_RANGE_CONF_FRAME_DONE</a>,
<a name="l00169"></a>00169 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 
<a name="l00173"></a>00173     <span class="comment">/* States for Reflector */</span>
<a name="l00174"></a>00174 
<a name="l00176"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa20eb7c92b6260ea0ebfdb3bc73dd1772">00176</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa20eb7c92b6260ea0ebfdb3bc73dd1772">RTB_INIT_RANGE_ACPT_FRAME</a>,
<a name="l00177"></a>00177 
<a name="l00179"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfad991b6c8358d5a910879f0b9a0b3ea1f">00179</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfad991b6c8358d5a910879f0b9a0b3ea1f">RTB_RANGE_ACPT_FRAME_DONE</a>,
<a name="l00180"></a>00180 
<a name="l00182"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa3eec1f73aaa0e50bc4ef21b8f6694a31">00182</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa3eec1f73aaa0e50bc4ef21b8f6694a31">RTB_AWAIT_TIME_SYNC_REQ_FRAME</a>,
<a name="l00183"></a>00183 
<a name="l00185"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa57880cd1e9e648646b42d131d7f608b3">00185</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa57880cd1e9e648646b42d131d7f608b3">RTB_INIT_PMU_START_FRAME</a>,
<a name="l00186"></a>00186 
<a name="l00188"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa7f83d0c3d84d78dd65130b8e82c49220">00188</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa7f83d0c3d84d78dd65130b8e82c49220">RTB_PMU_START_FRAME_DONE</a>,
<a name="l00189"></a>00189 
<a name="l00191"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa48777602d0283b4dd3f7d7944d7c1fa5">00191</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa48777602d0283b4dd3f7d7944d7c1fa5">RTB_AWAIT_RESULT_REQ_FRAME</a>,
<a name="l00192"></a>00192 
<a name="l00194"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2d291f11c4553028923e701373bc6753">00194</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa2d291f11c4553028923e701373bc6753">RTB_INIT_RESULT_CONF_FRAME</a>,
<a name="l00195"></a>00195 
<a name="l00197"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa5bc8ed18d31736b6122975e99da47c29">00197</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa5bc8ed18d31736b6122975e99da47c29">RTB_RESULT_CONF_FRAME_DONE</a>,
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 
<a name="l00201"></a>00201     <span class="comment">/* States for Initiator AND Reflector */</span>
<a name="l00202"></a>00202 
<a name="l00204"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfaae98aad7388d815452e12dbbd8662395">00204</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfaae98aad7388d815452e12dbbd8662395">RTB_INITIALIZE_PMU</a>,
<a name="l00205"></a>00205 
<a name="l00207"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa3831e72a079d0c149f75918441ddd2fe">00207</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa3831e72a079d0c149f75918441ddd2fe">RTB_PMU_MEASUREMENT</a>,
<a name="l00208"></a>00208 
<a name="l00210"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfafda0eafbd6a5248dd416ba8cd03babe0">00210</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfafda0eafbd6a5248dd416ba8cd03babe0">RTB_PREPARE_RESULT_EXCHANGE</a>
<a name="l00211"></a>00211 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>    ,
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <span class="comment">/* States for Coordinator */</span>
<a name="l00215"></a>00215 
<a name="l00217"></a><a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa99db26436b6ae0eb01d2edd4088c6364">00217</a>     <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa99db26436b6ae0eb01d2edd4088c6364">RTB_REMOTE_RANGE_REQ_FRAME_DONE</a>
<a name="l00218"></a>00218 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00219"></a>00219 } SHORTENUM <a class="code" href="rtb__internal_8h.html#a17739a87a4bb9633e780f40cda690a47">rtb_state_t</a>;
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 <span class="comment">/* === Frame structures ===*/</span>
<a name="l00224"></a>00224 
<a name="l00226"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16c">00226</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16c">range_cmd_tag</a>
<a name="l00227"></a>00227 {
<a name="l00229"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca8440cadf6dee245e0f08d01892128934">00229</a>     <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca8440cadf6dee245e0f08d01892128934">CMD_RANGE_REQ</a> = 0x01,
<a name="l00230"></a>00230 
<a name="l00232"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca05bd26b14f330c606e33186912c2317b">00232</a>     <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca05bd26b14f330c606e33186912c2317b">CMD_RANGE_ACPT</a> = 0x02,
<a name="l00233"></a>00233 
<a name="l00235"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16caf54302e5fe27e20ec296938616e9a6d7">00235</a>     <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16caf54302e5fe27e20ec296938616e9a6d7">CMD_PMU_TIME_SYNC_REQ</a> = 0x11,
<a name="l00236"></a>00236 
<a name="l00238"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca9eecf96113087b697f3e1695c50252c1">00238</a>     <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca9eecf96113087b697f3e1695c50252c1">CMD_PMU_START</a> = 0x12,
<a name="l00239"></a>00239 
<a name="l00241"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca0f92423d9493590e0ea3af1a3dd0f0c8">00241</a>     <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca0f92423d9493590e0ea3af1a3dd0f0c8">CMD_RESULT_REQ</a> = 0x21,
<a name="l00242"></a>00242 
<a name="l00244"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca3bf8a4d3597b329aa9cd19a1b69f3fcf">00244</a>     <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca3bf8a4d3597b329aa9cd19a1b69f3fcf">CMD_RESULT_CONF</a> = 0x22
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00247"></a>00247 <span class="preprocessor"></span>                      ,
<a name="l00248"></a>00248 
<a name="l00250"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca9d0d872d4e47fb7d728af7c4a8f348c4">00250</a>     <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16ca9d0d872d4e47fb7d728af7c4a8f348c4">CMD_REMOTE_RANGE_REQ</a> = 0x31,
<a name="l00251"></a>00251 
<a name="l00253"></a><a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16caf3048f062bb9f31fc5c3372b0dffe191">00253</a>     <a class="code" href="rtb__internal_8h.html#a9c1ca25c40328688a6b99bbf2d64e16caf3048f062bb9f31fc5c3372b0dffe191">CMD_REMOTE_RANGE_CONF</a> = 0x32
<a name="l00254"></a>00254 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00255"></a>00255 } SHORTENUM <a class="code" href="rtb__internal_8h.html#ab7dfa30d6f3f01a5a869219466e2a98e">range_cmd_t</a>;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 <span class="comment">/* === Frame format === */</span>
<a name="l00259"></a>00259 
<a name="l00261"></a><a class="code" href="structrefl__addr__tag.html">00261</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrefl__addr__tag.html">refl_addr_tag</a>
<a name="l00262"></a>00262 {
<a name="l00264"></a><a class="code" href="structrefl__addr__tag.html#a4c7d76efa0f6fe6b74c254edb077136c">00264</a>     uint8_t <a class="code" href="structrefl__addr__tag.html#a4c7d76efa0f6fe6b74c254edb077136c">refl_addr_mode</a>;
<a name="l00265"></a>00265     uint16_t refl_pan_id;
<a name="l00266"></a>00266     address_field_t refl_addr;
<a name="l00267"></a>00267 } <a class="code" href="rtb__internal_8h.html#aa212940b00e174406c1173038fecc15c">refl_addr_t</a>;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 
<a name="l00270"></a>00270 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00271"></a>00271 <span class="preprocessor"></span>
<a name="l00275"></a><a class="code" href="structprov__antenna__div__results__tag.html">00275</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structprov__antenna__div__results__tag.html">prov_antenna_div_results_tag</a>
<a name="l00276"></a>00276 {
<a name="l00277"></a>00277     uint8_t no_of_provided_meas_pairs;
<a name="l00278"></a>00278     <a class="code" href="structmeasurement__pair__tag.html">measurement_pair_t</a> provided_meas_pairs[];
<a name="l00279"></a>00279 } <a class="code" href="rtb__internal_8h.html#ae24a28985c0fed7e9505b70299294abd">prov_antenna_div_results_t</a>;
<a name="l00280"></a>00280 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00283"></a><a class="code" href="unionadditional__result__fields__t.html">00283</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">union</span>
<a name="l00284"></a>00284 {
<a name="l00285"></a>00285     <a class="code" href="structprov__antenna__div__results__tag.html">prov_antenna_div_results_t</a> prov_antenna_div_results;
<a name="l00286"></a>00286 } <a class="code" href="unionadditional__result__fields__t.html">additional_result_fields_t</a>;
<a name="l00287"></a>00287 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00290"></a>00290 <span class="preprocessor"></span>
<a name="l00291"></a><a class="code" href="structrange__remote__answer__tag.html">00291</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrange__remote__answer__tag.html">range_remote_answer_tag</a>
<a name="l00292"></a>00292 {
<a name="l00294"></a><a class="code" href="structrange__remote__answer__tag.html#a60d768823c325fc76c71d5803fde86bd">00294</a>     uint8_t <a class="code" href="structrange__remote__answer__tag.html#a60d768823c325fc76c71d5803fde86bd">status</a>;
<a name="l00296"></a><a class="code" href="structrange__remote__answer__tag.html#a3a308ed0dad7212f66907a747a522197">00296</a>     uint8_t <a class="code" href="structrange__remote__answer__tag.html#a3a308ed0dad7212f66907a747a522197">range_reject_reason</a>;
<a name="l00297"></a>00297     uint32_t distance_cm;
<a name="l00298"></a>00298     uint8_t dqf;
<a name="l00299"></a>00299     <a class="code" href="rtb__pmu_8h.html#a8303352aff89d4447c6bb9edbd6e6c83">additional_result_ie_t</a> additional_result_ie;
<a name="l00300"></a>00300     <a class="code" href="unionadditional__result__fields__t.html">additional_result_fields_t</a> additional_result_fields;
<a name="l00301"></a>00301 } <a class="code" href="rtb__internal_8h.html#af2d359b7865f99bb51cd368df8c8677f">range_remote_answer_t</a>;
<a name="l00302"></a>00302 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 
<a name="l00305"></a>00305 
<a name="l00307"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fc">00307</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fc">range_error_t</a>
<a name="l00308"></a>00308 {
<a name="l00309"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca9e8fbf9b8983efcec9c794894f0fb6ff">00309</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca9e8fbf9b8983efcec9c794894f0fb6ff">RANGE_OK</a> = 0,                                                       
<a name="l00310"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fcac4bc31e6638dcfb5a16fae60fdf55576">00310</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fcac4bc31e6638dcfb5a16fae60fdf55576">NO_SYNC</a>,                                                            
<a name="l00311"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca508f51ef09d1060a1d1730944cee43de">00311</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca508f51ef09d1060a1d1730944cee43de">TMO_RTB_AWAIT_RANGE_ACPT_FRAME</a> = <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa0aef2aa2d5ffe068de849841c06b8816">RTB_AWAIT_RANGE_ACPT_FRAME</a>,        
<a name="l00312"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca4d97631f93decdc3bba065e45985b0bf">00312</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca4d97631f93decdc3bba065e45985b0bf">TMO_RTB_AWAIT_TIME_SYNC_REQ_FRAME</a> = <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa3eec1f73aaa0e50bc4ef21b8f6694a31">RTB_AWAIT_TIME_SYNC_REQ_FRAME</a>,  
<a name="l00313"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fcaeaf4a9fc0ee4807ccedf60ef28b743ea">00313</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fcaeaf4a9fc0ee4807ccedf60ef28b743ea">TMO_RTB_AWAIT_PMU_START_FRAME</a> = <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa79877042445b29eeb4a5f5d31f0e3564">RTB_AWAIT_PMU_START_FRAME</a>,          
<a name="l00314"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca20ea381f69ef36f08ef35d0bc7b67579">00314</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca20ea381f69ef36f08ef35d0bc7b67579">TMO_RTB_INIT_PMU_START_FRAME</a> = <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa57880cd1e9e648646b42d131d7f608b3">RTB_INIT_PMU_START_FRAME</a>,            
<a name="l00315"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fcad217c047f88912cff31195ffb3c0ecff">00315</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fcad217c047f88912cff31195ffb3c0ecff">TMO_RTB_AWAIT_RESULT_CONF_FRAME</a> = <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa9152529543e2f66a0d0f27fec171dd12">RTB_AWAIT_RESULT_CONF_FRAME</a>,      
<a name="l00316"></a><a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca907feea5cc39fc919a9c3b762511f506">00316</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fca907feea5cc39fc919a9c3b762511f506">TMO_RTB_AWAIT_RESULT_REQ_FRAME</a> = <a class="code" href="rtb__internal_8h.html#a50c99f2713dfdc0cc60425d047fd1ddfa48777602d0283b4dd3f7d7944d7c1fa5">RTB_AWAIT_RESULT_REQ_FRAME</a>         
<a name="l00317"></a>00317 } <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fc">range_error_t</a>;
<a name="l00318"></a>00318 
<a name="l00319"></a>00319 
<a name="l00320"></a>00320 
<a name="l00322"></a><a class="code" href="structrange__param__tag.html">00322</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrange__param__tag.html">range_param_tag</a>
<a name="l00323"></a>00323 {
<a name="l00325"></a><a class="code" href="structrange__param__tag.html#a793b3fbee4b4c988d10b494a6ca75055">00325</a>     wpan_addr_spec_t <a class="code" href="structrange__param__tag.html#a793b3fbee4b4c988d10b494a6ca75055">ReflectorAddrSpec</a>;
<a name="l00326"></a>00326 
<a name="l00328"></a><a class="code" href="structrange__param__tag.html#a9a49a77ad526e38d93406661be60b569">00328</a>     wpan_addr_spec_t <a class="code" href="structrange__param__tag.html#a9a49a77ad526e38d93406661be60b569">InitiatorAddrSpec</a>;
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00331"></a>00331 <span class="preprocessor"></span>
<a name="l00332"></a><a class="code" href="structrange__param__tag.html#a11b982ef1058ff4f86f5c9735a6455a5">00332</a>     wpan_addr_spec_t <a class="code" href="structrange__param__tag.html#a11b982ef1058ff4f86f5c9735a6455a5">CoordinatorAddrSpec</a>;
<a name="l00333"></a>00333 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00334"></a>00334 
<a name="l00336"></a><a class="code" href="structrange__param__tag.html#ab9e917b1e3eac38dd61a00df68fb1eac">00336</a>     uint8_t <a class="code" href="structrange__param__tag.html#ab9e917b1e3eac38dd61a00df68fb1eac">method</a>;
<a name="l00337"></a>00337 
<a name="l00342"></a><a class="code" href="structrange__param__tag.html#a181bfcc649a954c7fc52ce4a29fc45a6">00342</a>     uint8_t <a class="code" href="structrange__param__tag.html#a181bfcc649a954c7fc52ce4a29fc45a6">req_tx_power</a>;
<a name="l00343"></a>00343 
<a name="l00345"></a><a class="code" href="structrange__param__tag.html#a0e41e788a0de28b1ae420b77f9191824">00345</a>     uint8_t <a class="code" href="structrange__param__tag.html#a0e41e788a0de28b1ae420b77f9191824">caps</a>;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00348"></a>00348 <span class="preprocessor"></span>
<a name="l00349"></a><a class="code" href="structrange__param__tag.html#abddca7eed91cfeb293da02e137ba47bf">00349</a>     uint8_t <a class="code" href="structrange__param__tag.html#abddca7eed91cfeb293da02e137ba47bf">remote_caps</a>;
<a name="l00350"></a>00350 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00351"></a>00351 } <a class="code" href="rtb__internal_8h.html#aa821804dbf071a6667a5b3b2f8a2b093">range_param_t</a>;
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 
<a name="l00356"></a><a class="code" href="structrange__param__pmu__tag.html">00356</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrange__param__pmu__tag.html">range_param_pmu_tag</a>
<a name="l00357"></a>00357 {
<a name="l00362"></a><a class="code" href="structrange__param__pmu__tag.html#ab8c92a8790f3212366ce59421832ad82">00362</a>     int16_t <a class="code" href="structrange__param__pmu__tag.html#ab8c92a8790f3212366ce59421832ad82">f_start</a>;
<a name="l00363"></a>00363 
<a name="l00368"></a><a class="code" href="structrange__param__pmu__tag.html#a6ddfd5353c4ea5c0717996426b6a5b0c">00368</a>     uint8_t <a class="code" href="structrange__param__pmu__tag.html#a6ddfd5353c4ea5c0717996426b6a5b0c">f_step</a>;
<a name="l00369"></a>00369 
<a name="l00374"></a><a class="code" href="structrange__param__pmu__tag.html#a34dea793edd501efa40ebd087da29d84">00374</a>     int16_t <a class="code" href="structrange__param__pmu__tag.html#a34dea793edd501efa40ebd087da29d84">f_stop</a>;
<a name="l00375"></a>00375 
<a name="l00380"></a><a class="code" href="structrange__param__pmu__tag.html#af614d1ff30c1d19fdbed0460c7573657">00380</a>     <span class="keywordtype">bool</span> <a class="code" href="structrange__param__pmu__tag.html#af614d1ff30c1d19fdbed0460c7573657">apply_min_dist_threshold</a>;
<a name="l00381"></a>00381 
<a name="l00395"></a><a class="code" href="structrange__param__pmu__tag.html#adf29332b377098b4e7d54fb10717931a">00395</a>     uint8_t <a class="code" href="structrange__param__pmu__tag.html#adf29332b377098b4e7d54fb10717931a">antenna_measurement_nos</a>;
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 <span class="preprocessor">#if (ANTENNA_DIVERSITY == 1) || defined(DOXYGEN)</span>
<a name="l00398"></a>00398 <span class="preprocessor"></span>
<a name="l00444"></a><a class="code" href="structrange__param__pmu__tag.html#ac458e03603f0e4dfc9d3ad42208a8cd7">00444</a>     uint8_t <a class="code" href="structrange__param__pmu__tag.html#ac458e03603f0e4dfc9d3ad42208a8cd7">antenna_array</a>[<a class="code" href="rtb__pmu_8h.html#a7722daa64107760bd694e0a091b0cd4a">PMU_MAX_NO_ANTENNAS</a>];
<a name="l00445"></a>00445 <span class="preprocessor">#endif  </span><span class="comment">/* (ANTENNA_DIVERSITY == 1)  || defined(DOXYGEN) */</span>
<a name="l00446"></a>00446 } <a class="code" href="rtb__internal_8h.html#a88f7305886fd96ac409bcb975b8554f6">range_param_pmu_t</a>;
<a name="l00447"></a>00447 
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 
<a name="l00451"></a><a class="code" href="structrange__status__tag.html">00451</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrange__status__tag.html">range_status_tag</a>
<a name="l00452"></a>00452 {
<a name="l00453"></a>00453     <span class="comment">/* Calculation results */</span>
<a name="l00455"></a><a class="code" href="structrange__status__tag.html#ab5c68fa92c62c967068c7bb0d367435f">00455</a>     uint32_t <a class="code" href="structrange__status__tag.html#ab5c68fa92c62c967068c7bb0d367435f">distance_cm</a>;
<a name="l00457"></a><a class="code" href="structrange__status__tag.html#a2d31fe9aecea68eb0d3a54560a8d5177">00457</a>     uint8_t <a class="code" href="structrange__status__tag.html#a2d31fe9aecea68eb0d3a54560a8d5177">dqf</a>;
<a name="l00458"></a>00458 
<a name="l00460"></a><a class="code" href="structrange__status__tag.html#afd7586e1487b1ce2167b637c3113f371">00460</a>     <a class="code" href="rtb__internal_8h.html#a3761635d0a3eca8973d30c976b6362fc">range_error_t</a> <a class="code" href="structrange__status__tag.html#afd7586e1487b1ce2167b637c3113f371">range_error</a>;
<a name="l00461"></a>00461 } <a class="code" href="rtb__internal_8h.html#a32c2860af9d371c96910bed4839cb995">range_status_t</a>;
<a name="l00462"></a>00462 
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 
<a name="l00465"></a>00465 
<a name="l00467"></a><a class="code" href="structrange__status__pmu__tag.html">00467</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrange__status__pmu__tag.html">range_status_pmu_tag</a>
<a name="l00468"></a>00468 {
<a name="l00470"></a><a class="code" href="structrange__status__pmu__tag.html#a32b4d2c1f21e1efa4ed6fab538bc746d">00470</a>     uint8_t <a class="code" href="structrange__status__pmu__tag.html#a32b4d2c1f21e1efa4ed6fab538bc746d">curr_antenna_measurement_no</a>;
<a name="l00471"></a>00471 
<a name="l00473"></a><a class="code" href="structrange__status__pmu__tag.html#a42b3dbcf07b153fe647b3f317e11b76c">00473</a>     uint32_t <a class="code" href="structrange__status__pmu__tag.html#a42b3dbcf07b153fe647b3f317e11b76c">measured_distance_cm</a>[<a class="code" href="rtb__pmu_8h.html#a7722daa64107760bd694e0a091b0cd4a">PMU_MAX_NO_ANTENNAS</a>];
<a name="l00475"></a><a class="code" href="structrange__status__pmu__tag.html#ab6f83be30f4cebe7371e8d1754e0e62a">00475</a>     uint8_t <a class="code" href="structrange__status__pmu__tag.html#ab6f83be30f4cebe7371e8d1754e0e62a">measured_dqf</a>[<a class="code" href="rtb__pmu_8h.html#a7722daa64107760bd694e0a091b0cd4a">PMU_MAX_NO_ANTENNAS</a>];
<a name="l00476"></a>00476 } <a class="code" href="rtb__internal_8h.html#a5530a8d72d9b3beee9b8b112c6bbf87b">range_status_pmu_t</a>;
<a name="l00477"></a>00477 
<a name="l00479"></a><a class="code" href="rtb__internal_8h.html#ac37f4c62d9cc9cd297d061d509bf3c2d">00479</a> <span class="keyword">typedef</span> void (*<a class="code" href="rtb__internal_8h.html#ac37f4c62d9cc9cd297d061d509bf3c2d">handler_rtb_t</a>)(uint8_t *);
<a name="l00480"></a>00480 
<a name="l00482"></a><a class="code" href="rtb__internal_8h.html#abeeeb766d3576236675a6dbdf1f79daf">00482</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="rtb__internal_8h.html#abeeeb766d3576236675a6dbdf1f79daf">conf_on_error_tag</a>
<a name="l00483"></a>00483 {
<a name="l00488"></a><a class="code" href="rtb__internal_8h.html#abeeeb766d3576236675a6dbdf1f79dafa5be85b22294f9dba463dd3264332e9f4">00488</a>     <a class="code" href="rtb__internal_8h.html#abeeeb766d3576236675a6dbdf1f79dafa5be85b22294f9dba463dd3264332e9f4">NO_CONF</a> = 0,
<a name="l00493"></a><a class="code" href="rtb__internal_8h.html#abeeeb766d3576236675a6dbdf1f79dafabb86fa8b1d6bff3e293842d282ec4bbf">00493</a>     <a class="code" href="rtb__internal_8h.html#abeeeb766d3576236675a6dbdf1f79dafabb86fa8b1d6bff3e293842d282ec4bbf">LOCAL_CONF</a> = 1
<a name="l00494"></a>00494 <span class="preprocessor">#if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN)</span>
<a name="l00495"></a>00495 <span class="preprocessor"></span>                 ,
<a name="l00499"></a><a class="code" href="rtb__internal_8h.html#abeeeb766d3576236675a6dbdf1f79dafa40b5f63e120516cfc3a2246481b7455e">00499</a>     <a class="code" href="rtb__internal_8h.html#abeeeb766d3576236675a6dbdf1f79dafa40b5f63e120516cfc3a2246481b7455e">REMOTE_CONF</a> = 2
<a name="l00500"></a>00500 <span class="preprocessor">#endif  </span><span class="comment">/* #if defined(ENABLE_RTB_REMOTE) || defined(DOXYGEN) */</span>
<a name="l00501"></a>00501 } SHORTENUM <a class="code" href="rtb__internal_8h.html#a42217901ead3b508aec03eaba1480f23">conf_on_error_t</a>;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503 <span class="comment">/* === Externals ============================================================ */</span>
<a name="l00504"></a>00504 
<a name="l00505"></a>00505 <span class="comment">/* Global data variables */</span>
<a name="l00506"></a>00506 <span class="keyword">extern</span> <a class="code" href="rtb__internal_8h.html#a17739a87a4bb9633e780f40cda690a47">rtb_state_t</a> last_rtb_state;
<a name="l00507"></a>00507 <span class="keyword">extern</span> <a class="code" href="structrange__param__tag.html">range_param_t</a> range_param;
<a name="l00508"></a>00508 <span class="keyword">extern</span> <a class="code" href="structrange__param__pmu__tag.html">range_param_pmu_t</a> range_param_pmu;
<a name="l00509"></a>00509 <span class="keyword">extern</span> <a class="code" href="structrange__status__tag.html">range_status_t</a> range_status;
<a name="l00510"></a>00510 <span class="keyword">extern</span> <a class="code" href="structrange__status__pmu__tag.html">range_status_pmu_t</a> range_status_pmu;
<a name="l00511"></a>00511 <span class="keyword">extern</span> int8_t rtb_dist_offset;
<a name="l00512"></a>00512 <span class="keyword">extern</span> rtb_pib_t rtb_pib;
<a name="l00513"></a>00513 <span class="keyword">extern</span> <a class="code" href="rtb__pmu_8h.html#ad1968e9cbb973f4cab2d140b329389ae">result_frame_ie_t</a> req_result_type;
<a name="l00514"></a>00514 <span class="keyword">extern</span> <a class="code" href="rtb__internal_8h.html#a2068729ac4e9e99fbf305471ea9b70b5">rtb_role_t</a> rtb_role;
<a name="l00515"></a>00515 <span class="keyword">extern</span> queue_t tal_rtb_q;
<a name="l00516"></a>00516 <span class="keyword">extern</span> <a class="code" href="rtb__internal_8h.html#a17739a87a4bb9633e780f40cda690a47">rtb_state_t</a> rtb_state;
<a name="l00517"></a>00517 <span class="keyword">extern</span> uint8_t rtb_static_frame_buffer[];
<a name="l00518"></a>00518 <span class="keyword">extern</span> <span class="keywordtype">bool</span> rtb_tx_in_progress;
<a name="l00519"></a>00519 <span class="preprocessor">#ifdef RTB_WITHOUT_MAC</span>
<a name="l00520"></a>00520 <span class="preprocessor"></span><span class="keyword">extern</span> parse_t mac_parse_data;
<a name="l00521"></a>00521 <span class="preprocessor">#else   </span><span class="comment">/* #ifdef RTB_WITHOUT_MAC */</span>
<a name="l00522"></a>00522 <span class="keyword">extern</span> mac_pib_t mac_pib;
<a name="l00523"></a>00523 <span class="preprocessor">#endif  </span><span class="comment">/* #ifdef RTB_WITHOUT_MAC */</span>
<a name="l00524"></a>00524 <span class="keyword">extern</span> uint8_t orig_tal_transmit_power;
<a name="l00525"></a>00525 <span class="keyword">extern</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> timer_is_synced;
<a name="l00526"></a>00526 
<a name="l00527"></a>00527 <span class="comment">/* === Prototypes =========================================================== */</span>
<a name="l00528"></a>00528 
<a name="l00529"></a>00529 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00530"></a>00530 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00531"></a>00531 <span class="preprocessor">#endif</span>
<a name="l00532"></a>00532 <span class="preprocessor"></span>
<a name="l00533"></a>00533     <span class="keywordtype">void</span> configure_ranging(<span class="keywordtype">void</span>);
<a name="l00534"></a>00534     <span class="keywordtype">void</span> handle_range_frame_error(uint8_t error);
<a name="l00535"></a>00535 
<a name="l00536"></a>00536     <span class="keywordtype">bool</span> pmu_check_pmu_params(<span class="keywordtype">void</span>);
<a name="l00537"></a>00537     <span class="keywordtype">void</span> pmu_extract_no_of_req_result_values(uint16_t received_value_cnt);
<a name="l00538"></a>00538     <span class="keywordtype">void</span> pmu_fill_initial_start_addr(uint8_t *ptr_to_frame);
<a name="l00539"></a>00539     <span class="keywordtype">void</span> pmu_fill_result_data(uint16_t no_of_values,
<a name="l00540"></a>00540                               uint8_t *ptr_to_frame);
<a name="l00541"></a>00541     uint16_t pmu_get_no_of_results_to_be_sent(<span class="keywordtype">void</span>);
<a name="l00542"></a>00542     <span class="keywordtype">void</span> pmu_handle_received_pmu_values(uint8_t *curr_frame_ptr);
<a name="l00543"></a>00543     <span class="keywordtype">bool</span> pmu_more_results_to_be_expected(<span class="keywordtype">void</span>);
<a name="l00544"></a>00544     <span class="keywordtype">bool</span> pmu_no_more_pmu_data_available(<span class="keywordtype">void</span>);
<a name="l00545"></a>00545     <span class="keywordtype">void</span> pmu_set_pmu_result_idx_done(<span class="keywordtype">void</span>);
<a name="l00546"></a>00546 <span class="preprocessor">#ifndef RTB_WITHOUT_MAC</span>
<a name="l00547"></a>00547 <span class="preprocessor"></span>    <span class="keywordtype">void</span> pmu_result_presentation(<span class="keywordtype">void</span>);
<a name="l00548"></a>00548 <span class="preprocessor">#endif  </span><span class="comment">/* #ifndef RTB_WITHOUT_MAC */</span>
<a name="l00549"></a>00549     <span class="keywordtype">void</span> pmu_reset_fec_vars(<span class="keywordtype">void</span>);
<a name="l00550"></a>00550     <span class="keywordtype">void</span> pmu_reset_pmu_result_vars(<span class="keywordtype">void</span>);
<a name="l00551"></a>00551     <span class="keywordtype">bool</span> pmu_update_result_ptr(<span class="keywordtype">void</span>);
<a name="l00552"></a>00552 
<a name="l00553"></a>00553     <span class="keywordtype">void</span> range_assemble_and_tx_frame_csma(frame_msgtype_t msgtype,
<a name="l00554"></a>00554                                           <a class="code" href="rtb__internal_8h.html#ab7dfa30d6f3f01a5a869219466e2a98e">range_cmd_t</a> cmd_type,
<a name="l00555"></a>00555                                           <a class="code" href="rtb__internal_8h.html#a17739a87a4bb9633e780f40cda690a47">rtb_state_t</a> next_rtb_state,
<a name="l00556"></a>00556                                           <a class="code" href="rtb__internal_8h.html#a42217901ead3b508aec03eaba1480f23">conf_on_error_t</a> generate_range_conf_on_error);
<a name="l00557"></a>00557     <span class="keywordtype">void</span> range_build_frame(<a class="code" href="rtb__internal_8h.html#ab7dfa30d6f3f01a5a869219466e2a98e">range_cmd_t</a> cmd, frame_info_t *frame);
<a name="l00558"></a>00558     <span class="keywordtype">void</span> range_calc_aver_pmu4(uint8_t *p_pmu,
<a name="l00559"></a>00559                               <span class="keywordtype">int</span> freq_N,
<a name="l00560"></a>00560                               <span class="keywordtype">int</span> fec,
<a name="l00561"></a>00561                               uint8_t *pmu_avg);
<a name="l00562"></a>00562     <span class="keywordtype">void</span> range_exit(<span class="keywordtype">void</span>);
<a name="l00563"></a>00563 <span class="preprocessor">#ifdef ENABLE_RTB_REMOTE</span>
<a name="l00564"></a>00564 <span class="preprocessor"></span>    <span class="keywordtype">void</span> range_gen_rtb_remote_range_conf(uint8_t status,
<a name="l00565"></a>00565                                          uint32_t distance,
<a name="l00566"></a>00566                                          uint8_t dqf,
<a name="l00567"></a>00567                                          uint8_t no_of_provided_meas_pairs,
<a name="l00568"></a>00568                                          <a class="code" href="structmeasurement__pair__tag.html">measurement_pair_t</a> *provided_meas_pairs);
<a name="l00569"></a>00569 <span class="preprocessor">#endif  </span><span class="comment">/* ENABLE_RTB_REMOTE */</span>
<a name="l00570"></a>00570     <span class="keywordtype">void</span> range_gen_rtb_range_conf(uint8_t status,
<a name="l00571"></a>00571                                   uint32_t distance,
<a name="l00572"></a>00572                                   uint8_t dqf);
<a name="l00573"></a>00573     <span class="keywordtype">void</span> range_process_tal_tx_status(<a class="code" href="return__val_8h.html#a19ce1ae399687411de837f9b02cfb260">retval_t</a> tx_status,  frame_info_t *frame);
<a name="l00574"></a>00574     <span class="keywordtype">void</span> range_result_presentation(<span class="keywordtype">void</span>);
<a name="l00575"></a>00575     <span class="keywordtype">void</span> range_start_await_timer(<a class="code" href="rtb__internal_8h.html#a17739a87a4bb9633e780f40cda690a47">rtb_state_t</a> current_state);
<a name="l00576"></a>00576     <span class="keywordtype">void</span> range_stop_await_timer(<span class="keywordtype">void</span>);
<a name="l00577"></a>00577     <span class="keywordtype">void</span> range_t_await_frame_cb(<span class="keywordtype">void</span> *callback_parameter);
<a name="l00578"></a>00578     <span class="keywordtype">void</span> range_tx_range_accept_frame(<span class="keywordtype">void</span>);
<a name="l00579"></a>00579 <span class="preprocessor">#ifdef ENABLE_RTB_REMOTE</span>
<a name="l00580"></a>00580 <span class="preprocessor"></span>    <span class="keywordtype">void</span> range_tx_remote_range_conf_frame(<span class="keywordtype">void</span>);
<a name="l00581"></a>00581 <span class="preprocessor">#endif  </span><span class="comment">/* ENABLE_RTB_REMOTE */</span>
<a name="l00582"></a>00582     <span class="keywordtype">void</span> range_tx_result_conf_frame(<span class="keywordtype">void</span>);
<a name="l00583"></a>00583     <span class="keywordtype">void</span> range_tx_result_req_frame(<span class="keywordtype">void</span>);
<a name="l00584"></a>00584     <span class="keywordtype">void</span> reset_pmu_average_data(<span class="keywordtype">void</span>);
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <span class="keywordtype">void</span> rtb_exit_rx_tx_end_irq(<span class="keywordtype">void</span>);
<a name="l00587"></a>00587     <span class="keywordtype">void</span> rtb_sync_handler_cb(<span class="keywordtype">void</span>);
<a name="l00588"></a>00588     <span class="keywordtype">void</span> rtb_init_rx_end_irq(<span class="keywordtype">void</span>);
<a name="l00589"></a>00589     <span class="keywordtype">void</span> rtb_init_tx_end_irq(<span class="keywordtype">void</span>);
<a name="l00590"></a>00590     <span class="keywordtype">void</span> <a class="code" href="rtb__internal_8h.html#ae38dc99e6ac490f19bceb5a741a253cb">rtb_tstamp_irq_init</a>(<span class="keywordtype">void</span>);
<a name="l00591"></a>00591     <span class="keywordtype">void</span> <a class="code" href="rtb__internal_8h.html#a0e179417a76dab2af16fd3a68fa39b5e">rtb_tstamp_irq_exit</a>(<span class="keywordtype">void</span>);
<a name="l00592"></a>00592 
<a name="l00593"></a>00593 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00594"></a>00594 <span class="preprocessor"></span>} <span class="comment">/* extern &quot;C&quot; */</span>
<a name="l00595"></a>00595 <span class="preprocessor">#endif</span>
<a name="l00596"></a>00596 <span class="preprocessor"></span>
<a name="l00597"></a>00597 <span class="preprocessor">#endif </span><span class="comment">/* RTB_INTERNAL_H */</span>
<a name="l00598"></a>00598 <span class="comment">/* EOF */</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="rtb__internal_8h.html">rtb_internal.h</a>      </li>
<!$Id: atmel-footer-rtb.html 31672 2012-04-17 07:02:09Z sschneid $>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>@DOC_TITLE@</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>

<table width="100%" height="10%" bgcolor="#FFFFFF">
  <tr>
    <td colspan="6" height="1" background="..//img//blue.gif"></td>
  </tr>

  <tr>
    <td colspan="6">
    <address style="align: right;"><small>
Generated on Fri Feb 22 2013 13:50:45 for RTB by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.7.5.1</small></address>
    </td>
  </tr>

</table>
